services:
  - type: web
    name: practicegenius-api
    env: docker
    region: oregon
    plan: free
    
    # Docker settings
    dockerContext: .
    dockerfile: Dockerfile
    
    # Environment variables
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      - key: CORS_ORIGIN
        value: 'https://practicegeniusv2.netlify.app,http://localhost:3000'
      - key: FRONTEND_URL
        value: 'https://practicegeniusv2.netlify.app'
    
    # Health check settings
    healthCheckPath: /
    healthCheckTimeout: 30s
    healthCheckInterval: 60s
    healthCheckThreshold: 3
    
    # Auto-deploy settings
    autoDeploy: true
